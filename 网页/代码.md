# 代码

<div id = "首"></div>
<script src = "../js/首.js"></script>

总共 413 个片断。

918
```
error.Error: The number of runs exceeds the limit

# SeaTable 免费版，云端脚本运行次数 100次/月。
```

906
```
# Python

list(enumerate(['Spring', 'Summer', 'Fall', 'Winter']))
```

904
```
# Python

字典 = {'x': 1, 'y': 2}
{**字典, 'z': 3}

qs = [{'x': 4, 'y': 1}, {'x': 2, 'y': 5}, {'x': 3, 'y': 7}]
[{**i, 'z': i['x'] + i['y']} for i in qs]

qs = [{'x': 4, 'y': 1}, {'x': 2, 'y': 5}, {'x': 3, 'y': 7}]
list(map(lambda x: x['x'] + x['y'], qs))
```

901
```
from django.apps import apps

for i in apps.get_app_configs():
    print(i.name)
    for j in i.get_models():
        print(f'|--{j.__name__}')

[i.name for i in apps.get_app_configs()][7:]

######

from django.conf import settings

settings.INSTALLED_APPS[7:]
```

897
```
# django_content_type 残存

django_admin_log

auth_permission
```

896
```
python manage.py migrate <app_name> zero

# ./manage.py sqlclear app_name
```

895
```
DEFERRABLE INITIALLY DEFERRED
```

894
```
raise DeserializationError.WithData

django.core.serializers.base.DeserializationError: ContentType matching query does not exist. :(admin.logentry:pk=1) field_value was '['polls', 'question']'
```

893
```
python -Xutf8 manage.py dumpdata --exclude auth.permission --exclude contenttypes --natural-primary --natural-foreign -o db.json
```

891
```
// JavaScript
// 序列生成器函数（通常称为“range”，例如 Clojure、PHP 等）
const range = (start, stop, step) =>
  Array.from({ length: (stop - start) / step + 1 }, (_, i) => start + i * step);

// 生成的数字范围 0..4
range(0, 4, 1);
// [0, 1, 2, 3, 4]
```

881
```
python -c 'print(1 + 1)
print(0.1 + 0.2)'

python -c 'print(1 + 1); print(0.1 + 0.2)'

python -c 'for i in range(10):
    print(i)'
```

879
```
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JSON 格式化输出</title>
</head>

<body>
  <script>
    // 假设这是您的 JSON 数据
    let jsonData = '{"name": "张三", "age": 25, "city": "北京"}';

    // 将 JSON 字符串转换为对象
    let data = JSON.parse(jsonData);

    // 格式化并输出到网页
    let formattedData = JSON.stringify(data, null, 2);
    document.write(formattedData);
  </script>
</body>

</html>
```

878
```
import json

f = open('a.json', encoding = 'utf-8')
json.load(f)
f.close()
```

877
```
# Python

if (n := len(a)) > 10:
    print(f"Length of a is {n} and it's greater than 10")
```

876
```
def 函数(x, y):
    return x + y

列表 = [4, 5]
函数(*列表)

字典 = {'x': 4, 'y': 5}
函数(**字典)
```

872
```
" 备份新建文件夹
set dir=C:/Program\ Files/Vim/dir
set undodir=C:/Program\ Files/Vim/dir
set backupdir=C:/Program\ Files/Vim/dir

set number
```

871
```
https://www.vim.org/downloads/gvim_9.1.0000_x64.exe

https://github.com/vim/vim-win32-installer/releases/download/v9.1.0/gvim_9.1.0_x64_signed.exe

https://github.com/vim/vim-win32-installer/releases/download/v9.1.0586/gvim_9.1.0586_x64.exe
```

870
```
# Django MySQL

CREATE DATABASE <dbname> CHARACTER SET utf8;

######

# settings.py
DATABASES = {
    "default": {
        "ENGINE": "django.db.backends.mysql",
        "OPTIONS": {
            "read_default_file": "/path/to/my.cnf",
        },
    }
}

######

# my.cnf
[client]
database = NAME
user = USER
password = PASSWORD
default-character-set = utf8

######

# 时区表

https://dev.mysql.com/downloads/timezones.html
```

869
```
# Linux

core.914
```

864
```
具有斜杠结尾的 URL ，如同一个文件夹。访问一个没有斜杠结尾的 URL 时 Flask 会自动进行重定向，帮您在尾部加上一个斜杠。

没有尾部斜杠的 URL ，如同一个文件。如果访问这个 URL 时添加了尾部斜杠就会得到一个 404 错误。这样可以保持 URL 唯一，并有助于搜索引擎重复索引同一页面。
```

862
```
mkdir myweb
cd myweb

pip install Flask

######

# app.py

from flask import Flask

app = Flask(__name__)

@app.route('/')
def hello_world():
    return '<p>世界和平</p>'

######

flask run
```

861
```
<!DOCTYPE html>
<html>

<body>

  <script>
    function myFunction() {
      alert('这是自定义的函数被调用了！');
    }
  </script>

  <a href="#" onclick="myFunction()">点击我调用自定义函数</a>

</body>

</html>
```

860
```
# SeaTable

import ssl
import OpenSSL
from datetime import datetime
from seatable_api import Base, context

SERVER_URL = context.server_url or "https://cloud.seatable.cn"
API_TOKEN = context.api_token or "******"


# Table config
TABLE_NAME = "云端服务"
IGNORED_DOMAINS = ["archive.seafile.com","Windows-OfficeOnline"]
CERTIFICATION_EXPIRED_COLUMN = "证书过期时间"
DOMAIN_COLUMN = "Name"

def _get_cert_expiration(domain):
    cert = ssl.get_server_certificate((domain, 443))
    x509 = OpenSSL.crypto.load_certificate(OpenSSL.crypto.FILETYPE_PEM, cert)
    expiration = datetime.strptime(x509.get_notAfter().decode("utf-8"), "%Y%m%d%H%M%SZ")
    return expiration

def update_certification_expiration():
    base = Base(API_TOKEN, SERVER_URL)
    base.auth()

    rows = base.list_rows(TABLE_NAME)
    for row in rows:
        domain = row.get(DOMAIN_COLUMN, '')
        current_expiration_str = row.get(CERTIFICATION_EXPIRED_COLUMN, '')
        if not domain:
            continue
        if not current_expiration_str:
            continue
        if domain in IGNORED_DOMAINS:
            continue
        try:
            expiration = _get_cert_expiration(domain)
            current_expiration = datetime.strptime(current_expiration_str, "%Y-%m-%d %H:%M")
            if current_expiration.date() != expiration.date():
                base.update_row(TABLE_NAME, row['_id'], {CERTIFICATION_EXPIRED_COLUMN: str(expiration)})
                print("%s's(%s) new expiration is %s" % (domain, str(current_expiration), str(expiration)))
            else:
                print("%s(current expiration: %s) no need to update" % (domain, str(current_expiration)))
        except Exception as e:
            print("%s error: %s" % (domain, e))

if __name__ == '__main__':
    update_certification_expiration()
```

859
```
# SeaTable

import pymysql
from seatable_api import Base, context

# Base config
SERVER_URL = context.server_url or  'http://127.0.0.1:8000'
API_TOKEN = context.api_token or '******'

# Table config
TABLE_NAME = 'Table1'
NAME_COLUMN = 'Name'

# Mysql config
HOST = 'localhost'
USER = ''
PASSWORD = ''
DB = 'seatable'

def sync_mysql():
    """Sync database into the table
    """
    # base initiated and authed
    base = Base(API_TOKEN, SERVER_URL)
    base.auth()

    rows = base.list_rows(TABLE_NAME)
    row_keys = [row.get(NAME_COLUMN) for row in rows]

    # mysql data
    connection = pymysql.connect(host=HOST, user=USER, password=PASSWORD, db=DB)

    with connection.cursor(pymysql.cursors.DictCursor) as cursor:
        sql = "SELECT * FROM order"
        cursor.execute(sql)
        mysql_data = cursor.fetchall()

    # sync
    for item in mysql_data:
        if item.get('name') not in row_keys:
            row_data = {
                'Name': item.get('name'),
            }
            base.append_row(TABLE_NAME, row_data)


if __name__ == '__main__':
    sync_mysql()
```

858
```
# SeaTable

import datetime
import pytz
from seatable_api import Base, context

SERVER_URL = context.server_url or "https://cloud.seatable.cn"
API_TOKEN = context.api_token or "******"

TABLE_NAME = "Table1"
NAME_COLUMN = "名称"
TIME_COLUMN = "创建时间"

IS_VALID_COLUMN = "标记"

HOUR_LIMIT_MIN = 18  # after 6pm
HOUR_LIMIT_MAX = 21  # before 9pm

TIMEZONE = "Asia/Shanghai"


def _format_time(time_str_utc):
    """
    Transfer the utc time string such as 2020-12-09T02:56:48.780+00:00 into localtime
    """
    try:
        date_time_obj = datetime.datetime.strptime(time_str_utc, '%Y-%m-%dT%H:%M:%S.%f+00:00')
        timezone_utc = pytz.timezone('UTC')
        timezone_local = pytz.timezone('Asia/Shanghai')
        utc_time_obj = timezone_utc.localize(date_time_obj)
        local_time_obj = utc_time_obj.astimezone(timezone_local)
    except:
        return None
    return local_time_obj


def mark_invalid_rows():
    '''
    Mark the invalid member clock-in information in the extra column
    '''
    base = Base(API_TOKEN, SERVER_URL)
    base.auth()
    rows = base.list_rows(TABLE_NAME)
    member_valid_time_dict = {}
    for row in rows:
        if row.get(IS_VALID_COLUMN) == '无效':
            continue
        create_time = _format_time(row.get(TIME_COLUMN))
        name = row.get(NAME_COLUMN)
        valid_time_list = member_valid_time_dict.get(name) or []
        if create_time and create_time.hour in range(HOUR_LIMIT_MIN, HOUR_LIMIT_MAX):
            if create_time.date() in valid_time_list:  # invalid clock-in more than one time within one day
                base.update_row(TABLE_NAME, row['_id'], {IS_VALID_COLUMN: '无效'})
                continue
            valid_time_list.append(create_time.date())
            member_valid_time_dict[name] = valid_time_list
        else:
            base.update_row(TABLE_NAME, row['_id'], {IS_VALID_COLUMN: '无效'})


mark_invalid_rows()
```

857
```
server {
    listen 80;
    server_name your_domain_name;  # 您的域名

    location /django {
        proxy_pass http://127.0.0.1:django_port;  # Django 服务器的端口
    }

    location /flask {
        proxy_pass http://127.0.0.1:flask_port;  # Flask 服务器的端口
    }
}
```

854
```
├─ flask_blue
    ├─ templates/
    ├─ static/
    ├─ apps/
        ├─ admin_app/
               ├─ __init__.py     
               └─ admin.py
        ├─ login_app/
            ├─ __init__.py       
            └─ login.py
    └─ manage.py

######

# admin.py

from flask import Blueprint

# Blueprint两个参数（'蓝图名字',蓝图所在位置',url前缀)，注意：url前缀对该蓝图下所有route都起作用

admin_blue = Blueprint('admin',__name__,url_prefix='/admin') #创建一个蓝图

@admin_blue.route('/') #该路由链接变成 /admin/
def admin():
    return '后台管理界面'

######

# admin_app/__init__.py

from apps.admin_app.admin import admin_blue
# 方便使用，主程序使用时，就可以直接包名.admin_blue

######

# login.py

from flask import Blueprint  # 导入蓝图模块

# Blueprint两个参数（'蓝图名字',蓝图所在位置')

login_blue = Blueprint('login', __name__)

@login_blue.route('/login')
def admin():
    return '登陆界面'

######

# apps/__init__.py

from flask import Flask

from apps.admin_app import admin_blue
from apps.login_app import login_blue

app = Flask(__name__)

app.register_blueprint(admin_blue)
app.register_blueprint(login_blue)

######

# manage.py

from apps import app
if __name__ == '__main__':
    app.run()
```

853
```
from flask import Flask
app = Flask(__name__)

@app.route('/')
def hello_world():
    return 'Hello World!'

# user模块
@app.route('/user/register')
def register():
    return 'register'

@app.route('/user/login')
def login():
    return 'login'

@app.route('/user/modify_password')
def modify_password():
    return 'modify_password'

# admin模块
@app.route('/admin/alluser')
def alluser():
    return 'alluser'

@app.route('/admin/deluser')
def deluser():
    return 'deluser'

if __name__ == '__main__':
    app.run(port=5678)
```

852
```
blue-example/
├── admin
│   ├── __init__.py
│   └── views.py
├── app.py
└── user
    ├── __init__.py
    └── views.py

######

# app.py

from flask import Flask
app = Flask(__name__)

@app.route('/')
def hello_world():
    return 'Hello World!'

from admin.views import admin_blue
from user.views import user_blue

app.register_blueprint(admin_blue)
app.register_blueprint(user_blue)

if __name__ == '__main__':
    app.run(port=5678)

######

# admin/views.py

from flask import Blueprint
admin_blue = Blueprint('admin', __name__, url_prefix='/admin')

@admin_blue.route('/alluser')
def alluser():
    return 'alluser'

@admin_blue.route('/deluser')
def deluser():
    return 'deluser'

######

# user/views.py

from flask import Blueprint
user_blue = Blueprint('user', __name__, url_prefix='/user')

# user模块
@user_blue.route('/register')
def register():
    return 'register'

@user_blue.route('/login')
def login():
    return 'login'

@user_blue.route('/modify_password')
def modify_password():
    return 'modify_password'
```

850
```
from io import StringIO
import csv

data = '''"编号"
123
456
789
135
246
'''

list(csv.DictReader(StringIO(data)))
```

848
```
import pandas as pd

from io import StringIO

data = "col1,col2,col3\na,b,1\na,b,2\nc,d,3"

pd.read_csv(StringIO(data))

pd.read_csv(StringIO(data), usecols=lambda x: x.upper() in ["COL1", "COL3"])
```

847
```
$files = @("a.ps1", "b.ps1", "a.py")

$destinationFolder = "YourDestinationFolder"

foreach ($file in $files) {
    Move-Item -Path $file -Destination $destinationFolder
}
```

842
```
python manage.py dbshell

# no-zero
```

841
```
raise ImproperlyConfigured: Requested setting FILE_UPLOAD_TEMP_DIR, but settings are not configured. You must either define the environment variable DJANGO_SETTINGS_MODULE or call settings.configure() before accessing settings.
```

839
```
# Django 导出和导入

python manage.py dumpdata yoyo.person --indent 2 > person.json

python manage.py loaddata person.json
```

838
```
# Django

python -Xutf8 manage.py dumpdata -o db.json

python -Xutf8 manage.py loaddata db.json

python -Xutf8 manage.py dumpdata --exclude auth.permission --exclude contenttypes -o db.json

python manage.py dumpdata --natural-primary --natural-foreign -o db.json
```

837
```
Unable to serialize database: 'gbk' code cannot encode character * in position * : illegal multibyte sequence Exception ignored in *.
```

834
```
文本 = '10小时'

('分钟' in 文本) + ('小时' in 文本) + ('昨日' in 文本)
```

832
```
Python CSV 标准库

如果没有指定 newline=''，则嵌入引号中的换行符将无法正确解析，并且在写入时，使用 \r\n 换行的平台会有多余的 \r 写入。由于 csv 模块会执行自己的（通用）换行符处理，因此指定 newline='' 应该总是安全的。
```

830
```
InvalidArgument: Cannot convert the System.Collections.Arraylist + ArrayListEnumerationSimple value type of System.Collections.Arraylist + ArrayListEnumerationSimple to type of System.Int32
```

828
```
# PowerShell

$输入 = Read-Host "请输入一个整数"
if ($输入 -match '\d+') {
    $数字 = [int]$输入
    Write-Host "您输入的整数是: $数字"
} else {
    Write-Host "您输入的不是有效的整数"
}
```

820
```
VS Code

* 匹配大小写（带有 Aa 图标）
* 全字匹配（带有 ab 图标）
* 正则表达式（带有 .* 图标）
```

818
```
# 腾讯云 Cloud Studio、Django

ALLOWED_HOSTS = [
    '8000.preview.cloudstudio.work'
]
```

817
```
Forbidden (Origin checking failed
does - not match any trusted origin.)
```

816
```
pip config list

pip install Django
python -m django startproject mycode
cd mycode

python manage.py runserver

python manage.py migrate
python manage.py createsuperuser

python manage.py startapp tests

python manage.py makemigrations
python manage.py migrate
```

815
```
import csv

def skip_first_row_csv(csv_file):
    with open(csv_file, 'r') as file:
        reader = csv.reader(file)
        next(reader)  # 跳过第一行
        for row in reader:
            print(row)

# 调用函数，传入 CSV 文件路径
skip_first_row_csv('your_csv_file.csv')
```

813
```
import csv

with open('names.csv', 'w', newline='') as csvfile:
    fieldnames = ['first_name', 'last_name']
    writer = csv.DictWriter(csvfile, fieldnames=fieldnames)
    writer.writeheader()
    writer.writerow({'first_name': 'Baked', 'last_name': 'Beans'})
    writer.writerow({'first_name': 'Lovely', 'last_name': 'Spam'})
    writer.writerow({'first_name': 'Wonderful', 'last_name': 'Spam'})
```

812
```
import csv
with open('eggs.csv', 'w', newline='') as csvfile:
    spamwriter = csv.writer(csvfile, delimiter=' ', quotechar='|', quoting=csv.QUOTE_MINIMAL)
    spamwriter.writerow(['Spam'] * 5 + ['Baked Beans'])
    spamwriter.writerow(['Spam', 'Lovely Spam', 'Wonderful Spam'])
```

810
```
sqlite3 db.sqlite3 "SELECT 1 + 1"

sqlite3 db.sqlite3 "SELECT 0.1 + 0.2"

sqlite3 ":memory:" "SELECT 0.1 + 0.2"

sqlite3 :memory: "SELECT 0.1 + 0.2"
```

809
```
apt install sqlite3

报错：Unable to locate package sqlite3

apt update
apt install sqlite3
```

805
```
sqlite3 db.sqlite3 "delete from a;"
```

802
```
delete from a;
```

793
```
SELECT date();

SELECT datetime();

SELECT datetime('now', 'localtime');

SELECT date('now','start of month','+1 month','-1 day');

SELECT datetime(1719383635, 'unixepoch');

SELECT datetime(1719383635, 'unixepoch', 'localtime');
```

791
```
from datetime import datetime

datetime.fromtimestamp(1717139243)
```

789
```
from your_app.models import YourModel

distinct_values = YourModel.objects.values('your_field').distinct()
```

788
```
https://www.qidian.com/rank/yuepiao/chn0/
```

784
```
def 函数():
    a = input('请输入')
    print(int(a) + 1)
```

778
```
# Ubuntu 安装 SQLite3

apt install sqlite3

sqlite3

.open coding.sqlite3

.changes on

CREATE TABLE a (书名 varchar(200), 作者 varchar(200), 编号 bigint, 备注 text);

.exit
```

775
```
select 编号 from a
group by 编号
having count(编号) > 1
```

773
```
create table a(
    书名 varchar(200),
    编号 bigint not null,
    作者 varchar(200)
)
```

767
```
# models.py
from django.db import models


class Author(models.Model):
    salutation = models.CharField(max_length=10)
    name = models.CharField(max_length=200)
    email = models.EmailField()
    headshot = models.ImageField(upload_to="author_headshots")
    last_accessed = models.DateTimeField()

######

from django.urls import path
from books.views import AuthorDetailView

urlpatterns = [
    # ...
    path("authors/<int:pk>/", AuthorDetailView.as_view(), name="author-detail"),
]

######

from django.utils import timezone
from django.views.generic import DetailView
from books.models import Author


class AuthorDetailView(DetailView):
    queryset = Author.objects.all()

    def get_object(self):
        obj = super().get_object()
        # Record the last accessed date
        obj.last_accessed = timezone.now()
        obj.save()
        return obj
```

766
```
from django.views.generic import DetailView
from books.models import Book, Publisher


class PublisherDetailView(DetailView):
    model = Publisher

    def get_context_data(self, **kwargs):
        # Call the base implementation first to get a context
        context = super().get_context_data(**kwargs)
        # Add in a QuerySet of all the books
        context["book_list"] = Book.objects.all()
        return context
```

765
```
# urls.py
from django.urls import path
from books.views import PublisherBookListView

urlpatterns = [
    path("books/<publisher>/", PublisherBookListView.as_view()),
]

######

# views.py
from django.shortcuts import get_object_or_404
from django.views.generic import ListView
from books.models import Book, Publisher


class PublisherBookListView(ListView):
    template_name = "books/books_by_publisher.html"

    def get_queryset(self):
        self.publisher = get_object_or_404(Publisher, name=self.kwargs["publisher"])
        return Book.objects.filter(publisher=self.publisher)

    def get_context_data(self, **kwargs):
        # Call the base implementation first to get a context
        context = super().get_context_data(**kwargs)
        # Add in the publisher
        context["publisher"] = self.publisher
        return context
```

764
```
from django.views.generic import DetailView
from books.models import Book, Publisher


class PublisherDetailView(DetailView):
    model = Publisher

    def get_context_data(self, **kwargs):
        # Call the base implementation first to get a context
        context = super().get_context_data(**kwargs)
        # Add in a QuerySet of all the books
        context["book_list"] = Book.objects.all()
        return context
```

763
```
from django.urls import path
from books.views import BookListView

urlpatterns = [
    path("books/", BookListView.as_view()),
]

######

from django.http import HttpResponse
from django.views.generic import ListView
from books.models import Book


class BookListView(ListView):
    model = Book

    def head(self, *args, **kwargs):
        last_book = self.get_queryset().latest("publication_date")
        response = HttpResponse(
            # RFC 1123 date format.
            headers={
                "Last-Modified": last_book.publication_date.strftime(
                    "%a, %d %b %Y %H:%M:%S GMT"
                )
            },
        )
        return response
```

761
```
tz

static

log

l10n

i18n

cache

admin_urls

admin_modify

admin_list
```

758
```
list(range(-10, 0))
```

756
```
from django.http import JsonResponse

def some_view(request):
    data = {'key1': 'value1', 'key2': 'value2'}
    return JsonResponse(data)

######

import requests

response = requests.get('Django 提供 JsonResponse 的 URL')
data = response.json()

######

import json
import urllib.request

url = 'Django 给出 JsonResponse 的 URL'  # 替换为实际的 URL

response = urllib.request.urlopen(url)
data = response.read().decode('utf-8')  # 读取并解码响应内容

# 将 JSON 字符串转换为 Python 对象
json_data = json.loads(data)
print(json_data)
```

755
```
class Point:
    def __init__(self, x, y):
        self.x, self.y = x, y

    def __conform__(self, protocol):
        if protocol is sqlite3.PrepareProtocol:
            return f"{self.x};{self.y}"

con = sqlite3.connect(":memory:")
cur = con.cursor()

cur.execute("SELECT ?", (Point(4.0, -3.2),))
print(cur.fetchone()[0])
con.close()
```

753
```
def dict_factory(cursor, row):
    fields = [column[0] for column in cursor.description]
    return {key: value for key, value in zip(fields, row)}

con = sqlite3.connect(":memory:")
con.row_factory = dict_factory
for row in con.execute("SELECT 1 AS a, 2 AS b"):
    print(row)
{'a': 1, 'b': 2}
con.close()
```

752
```
import sqlite3
import json

# 假设您有一个包含多个 JSON 字符串的列表
json_data_list = [
    '{"id": 1, "name": "John", "age": 30}',
    '{"id": 2, "name": "Alice", "age": 25}',
    '{"id": 3, "name": "Bob", "age": 35}'
]

# 连接到数据库（如果数据库不存在，将创建一个新的）
conn = sqlite3.connect('example.db')

# 创建一个游标对象
cursor = conn.cursor()

# 创建表
cursor.execute('''CREATE TABLE IF NOT EXISTS users (id INT, name TEXT, age INT)''')

# 准备批量插入的语句
insert_statement = 'INSERT INTO users VALUES (?,?,?)'

# 解析 JSON 数据并批量插入
data_to_insert = []
for json_data in json_data_list:
    data = json.loads(json_data)
    data_to_insert.append((data['id'], data['name'], data['age']))

cursor.executemany(insert_statement, data_to_insert)

# 提交更改并关闭连接
conn.commit()
conn.close()
```

751
```
import sqlite3
import json

# 假设您有一个 JSON 字符串
json_data = '{"id": 1, "name": "John", "age": 30}'

# 连接到数据库（如果数据库不存在，将创建一个新的）
conn = sqlite3.connect('example.db')

# 创建一个游标对象
cursor = conn.cursor()

# 创建表
cursor.execute('''CREATE TABLE IF NOT EXISTS users (id INT, name TEXT, age INT)''')


# 将 JSON 数据解析为 Python 对象
data = json.loads(json_data)

# 插入数据到表中
cursor.execute('INSERT INTO users VALUES (?,?,?)', (data['id'], data['name'], data['age']))

# 提交更改并关闭连接
conn.commit()
conn.close()
```

750
```
iterable unpacking cnnnot be used in comprenension .
```

743
```
# Django

{{ value|json_script:"hello-data" }}

<script id="hello-data" type="application/json">{"hello": "world"}</script>

const value = JSON.parse(document.getElementById('hello-data').textContent);
```

739
```
# Python

m = re.match(r"(..)+", "a1b2c3")
m.group()
m.group(0)
m.group(1)
```

734
```
INSERT INTO destination_table (id, name, age)
SELECT id, name, age
FROM source_table
WHERE age > 18;
```

733
```
git merge-base dev master
```

729
```
import datetime

def validate_iso_date(year_month_day):
    try:
        datetime.datetime.fromisoformat(year_month_day)
        return True
    except ValueError:
        return False

# 测试
print(validate_iso_date("2024-06-28"))  
print(validate_iso_date("20240628"))
```

727
```
from django.views.generic import ListView

from myapp.models import Contact


class ContactListView(ListView):
    paginate_by = 2
    model = Contact

######

{% for contact in page_obj %}
    {# Each "contact" is a Contact model object. #}
    {{ contact.full_name|upper }}<br>
    ...
{% endfor %}

<div class="pagination">
    <span class="step-links">
        {% if page_obj.has_previous %}
            <a href="?page=1">&laquo; first</a>
            <a href="?page={{ page_obj.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
        </span>

        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}">next</a>
            <a href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
        {% endif %}
    </span>
</div>
```

726
```
from django.db import models
from django.urls import reverse

class Author(models.Model):
    name = models.CharField(max_length=200)

    def get_absolute_url(self):
        return reverse("author-detail", kwargs={"pk": self.pk})

######

from django.urls import reverse_lazy
from django.views.generic.edit import CreateView, DeleteView, UpdateView
from myapp.models import Author

class AuthorCreateView(CreateView):
    model = Author
    fields = ["name"]

class AuthorUpdateView(UpdateView):
    model = Author
    fields = ["name"]

class AuthorDeleteView(DeleteView):
    model = Author
    success_url = reverse_lazy("author-list")

######

from django.urls import path
from myapp.views import AuthorCreateView, AuthorDeleteView, AuthorUpdateView

urlpatterns = [
    # ...
    path("author/add/", AuthorCreateView.as_view(), name="author-add"),
    path("author/<int:pk>/", AuthorUpdateView.as_view(), name="author-update"),
    path("author/<int:pk>/delete/", AuthorDeleteView.as_view(), name="author-delete"),
]
```

725
```
from django.urls import path
from django.views.generic import TemplateView

urlpatterns = [
    path("about/", TemplateView.as_view(template_name="about.html")),
]

######

# some_app/views.py
from django.views.generic import TemplateView

class AboutView(TemplateView):
    template_name = "about.html"

######

# urls.py
from django.urls import path
from some_app.views import AboutView

urlpatterns = [
    path("about/", AboutView.as_view()),
]
```

723
```
from django.forms import formset_factory
from django.shortcuts import render
from myapp.forms import ArticleForm


def manage_articles(request):
    ArticleFormSet = formset_factory(ArticleForm)
    if request.method == "POST":
        formset = ArticleFormSet(request.POST, request.FILES)
        if formset.is_valid():
            # do something with the formset.cleaned_data
            pass
    else:
        formset = ArticleFormSet()
    return render(request, "manage_articles.html", {"formset": formset})

######

<form method="post">
    <table>
        {{ formset }}
    </table>
</form>

######

<form method="post">
    {{ formset.management_form }}
    <table>
        {% for form in formset %}
        {{ form }}
        {% endfor %}
    </table>
</form>
```

722
```
0.1 + 0.2
3 - 1
2 * 5
9 / 3
```

721
```
from django.views.generic.edit import CreateView
from django.shortcuts import get_object_or_404
from your_app.models import YourModel

class YourCreateView(CreateView):
    model = YourModel
    fields = ['field1', 'field2',...]

    def get_initial(self):
        pk = self.kwargs.get('pk')  # 获取 URL 中的 pk 值
        existing_object = get_object_or_404(YourModel, pk=pk)  # 根据 pk 获取对象
        initial = {}

        initial['field1'] = existing_object.field1
        initial['field2'] = existing_object.field2
        # 复制您想要的字段值
        return initial
```

720
```
from django.views.generic.edit import CreateView
from your_app.models import YourModel

class YourCreateView(CreateView):
    model = YourModel
    fields = ['field1', 'field2',...]

    def get_initial(self):
        initial = super().get_initial()
        initial['field1'] = 'initial_value1'
        initial['field2'] = 'initial_value2'
        # 为您想要指定初始值的字段进行赋值
        return initial
```

716
```
# 列表

列表 = ['张三', '男', '李四', '男', '王五', '男']
列表 += ['赵翠', '女']
模 = 2

for i in range(len(列表) // 模):
    print(列表[模 * i], 列表[模 * i + 1])

# 列表

列表 = [['张三', '男'], ['李四', '男'], ['王五', '男']]
列表.append(['赵翠', '女'])

for i in 列表:
    print(i[0], i[1])

# 列表 + 字典

列表 = [{'姓名': '张三', '性别': '男'},
    {'姓名': '李四', '性别': '男'},
    {'姓名': '王五', '性别': '男'}
]
列表.append({'姓名': '赵翠', '性别': '女'})

for i in 列表:
    print(i['姓名'], i['性别'])

# 列表 + 类

class 人:
    def __init__(self, 姓名, 性别):
        self.姓名 = 姓名
        self.性别 = 性别

列表 = [人('张三', '男'), 人('李四', '男'), 人(姓名 = '王五', 性别 = '男')]

列表.append(人(性别 = '女', 姓名 = '赵翠'))

for i in 列表:
    print(i.姓名, i.性别)
```

715
```
class 数1:
    def __init__(self, x):
        self.值 = x
        self.加一 = x + 1
        self.减一 = x - 1

模 = 5

class 数2(数1):
    def __init__(self, x):
        super().__init__(x)
        self.取整 = x // 模
        self.取余 = x % 模

数2(4).值
数2(10).加一
数2(15).减一
数2(7).取整
数2(8).取余
```

714
```
class 数1:
    def __init__(self, x):
        self.值 = x
        self.加一 = x + 1
        self.减一 = x - 1

模 = 5

class 数2:
    def __init__(self, x):
        self.值 = x
        self.加一 = x + 1
        self.减一 = x - 1
        self.取整 = x // 模
        self.取余 = x % 模

数2(4).值
数2(10).加一
数2(15).减一
数2(7).取整
数2(8).取余
```

713
```
# Python

class A:
    def __init__(self):
        self.x = 0

class B(A):
    def __init__(self):
        super().__init__()
        self.y = 1
```

709
```
body.document.innerHTML = '<p>abc123</p>' + body.document.innerHTML
```

706
```
ssh-ed25519 AA********6G tencent
```

705
```
# Python

运算符 is 和 is not 用于检测对象的标识号：当且仅当 x 和 y 是同一对象时 x is y 为真。

一个对象的标识号可使用 id() 函数来确定。

x is not y 会产生相反的逻辑值。
```

704
```
sorted(zip([3, 2, 1], ['张三', '李四', '王五']))
```

703
```
for item in zip([1, 2, 3], ['sugar', 'spice', 'everything nice']):
    print(item)

######

for 变量 in sorted(zip([3, 2, 1], ['张三', '李四', '王五']), key = lambda x: x[0]):
    print(变量)
```

702
```
AttributeError: 'NoneType' object has no attribute 'group'
```

699
```
from urllib.request import urlopen
from urllib.error import HTTPError
try:
    response = urlopen('https://m.qidian.com/book/1036835550/')
except HTTPError as e:
    if e.code == 404:
        print("404 Not Found")
```

690
```
from django.http import HttpResponse
from django.template import loader

from .models import Question


def index(request):
    latest_question_list = Question.objects.order_by("-pub_date")[:5]
    template = loader.get_template("polls/index.html")
    context = {
        "latest_question_list": latest_question_list,
    }
    return HttpResponse(template.render(context, request))

######

from django.shortcuts import render

from .models import Question


def index(request):
    latest_question_list = Question.objects.order_by("-pub_date")[:5]
    context = {"latest_question_list": latest_question_list}
    return render(request, "polls/index.html", context)
```

689
```
'gbk' code cannot decode byte in position on: illegal multibyte sequence
```

688
```
import subprocess

result = subprocess.check_output(['git', 'log', '--oneline', 'dev']).decode('utf-8')

result.count('\n')
```

687
```
(git log --oneline dev | Measure-Object).Count - (git log --oneline master | Measure-Object).Count
```

686
```
python example.py arg1 arg2

# sys.argv 为列表，其中argv[0] 为脚本的名称
```

685
```
# 隐藏窗口

powershell.exe -windowstyle hidden -file "C:\path\to\script.ps1"
```

684
```
# Bash

cat file1.txt file2.txt > 合并.txt


# CMD

copy file1.txt + file2.txt 合并.txt

# PowerShell

Add-Content -Path 合并.txt -Value (Get-Content file1.txt), (Get-Content file2.txt)
```

682
```
# nginx

location /private/ {
    auth_request /auth;
    ...
}

location = /auth {
    proxy_pass ...
    proxy_pass_request_body off;
    proxy_set_header Content-Length "";
    proxy_set_header X-Original-URI $request_uri;
}
```

680
```
# django 开发环境

from django.conf import settings
from django.urls import re_path
from django.views.static import serve

# ... the rest of your URLconf goes here ...

if settings.DEBUG:
    urlpatterns += [
        re_path(
            r"^media/(?P<path>.*)$",
            serve,
            {
                "document_root": settings.MEDIA_ROOT,
            },
        ),
    ]

######

from django.conf import settings
from django.conf.urls.static import static

urlpatterns = [
    # ... the rest of your URLconf goes here ...
] + static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)
```

673
```
颜色

#159957
#1e6bb8

#f5dd5d
#ffc
#417690
#79aeo8
```

671
```
cloudstudio

Page has expired

To restart the login process .

To continue the login process .
```

669
```
git log --oneline dev ^master
```

668
```
# 升级 Python

python -V
apt update
apt install python3
```

666
```
# Python
# 数字转文本，补 0

str(4).zfill(2)
```

662
```
# Django

Author.objects.annotate(average_rating = Avg("book__rating"))

Author.objects.values("name").annotate(average_rating = Avg("book__rating"))

Author.objects.annotate(average_rating = Avg("book__rating")).values("name", "average_rating"
```

661
```
# Vim
# 打开新窗口

:split two.c
```

657
```
import datetime

# [datetime.datetime.now() - datetime.timedelta(days = 变量) for 变量 in range(1, 8)]

for 变量 in range(6, -1, -1):
    日期 = datetime.datetime.today().date() - datetime.timedelta(days = 变量)
    print(日期)

for 变量 in range(-6, 1):
    日期 = datetime.datetime.now().date() + datetime.timedelta(days = 变量)
    print(日期)
```

656
```
# Django
from django.db.models import F
from django.http import HttpResponse, HttpResponseRedirect
from django.shortcuts import get_object_or_404, render
from django.urls import reverse

from .models import Choice, Question


# ...
def vote(request, question_id):
    question = get_object_or_404(Question, pk=question_id)
    try:
        selected_choice = question.choice_set.get(pk=request.POST["choice"])
    except (KeyError, Choice.DoesNotExist):
        # Redisplay the question voting form.
        return render(
            request,
            "polls/detail.html",
            {
                "question": question,
                "error_message": "You didn't select a choice.",
            },
        )
    else:
        selected_choice.votes = F("votes") + 1
        selected_choice.save()
        # Always return an HttpResponseRedirect after successfully dealing
        # with POST data. This prevents data from being posted twice if a
        # user hits the Back button.
        return HttpResponseRedirect(reverse("polls:results", args=(question.id,)))
```

655
```
# Windows

* 运行
* mrt
* 恶意软件删除
```

654
```
# Python
import re

for 文本 in ('12345678', '1234567890', '1234567890123'):
    print(re.sub('(?<=.{10}).+', '…', 文本))
```

653
```
# Python
import re

文本 = '12345678'
re.sub('(?<=.{10}).+', '…', 文本)

文本 = '1234567890'

文本 = '1234567890123'
```

652
```
# Python

文本 = '12345678'
文本[:10], 文本[10:]

文本 = '1234567890'
文本[:10], 文本[10:]

文本 = '1234567890123'
文本[:10], 文本[10:]

######

文本 = '12345678'
文本[:10], bool(文本[10:]) * '…'

文本 = '1234567890'
文本[:10], bool(文本[10:]) * '…'

文本 = '1234567890123'
文本[:10], bool(文本[10:]) * '…'
```

651
```
# 英文

中文|英文
--|--
长颈鹿|giraffe
河马|hippo
骆驼|camel
老虎|tiger
狮子|lion
猫|cat
狗|dog
```

650
```
# 五笔

字|编码
--|--
骨|me
鸣|kqyg
```

649
```
# pandas
# 143 M

numpy==1.26.4
pandas==2.2.2
python-dateutil==2.9.0.post0
pytz==2024.1
six==1.16.0
tzdata==2024.1
```

648
```
容器镜像：Jupyter Notebook
用户：jovyan
工作目录：/home/jovyan
```

647
```
dnf install docker

# 阿里云

# Alibaba Cloud Linux

docker run -it alibaba-cloud-linux-3-registry.cn-hangzhou.cr.aliyuncs.com/alinux3/alinux3 /bin/bash

cat /etc/os-release

exit

# Jupyter

docker run -it -p 8888:8888 --rm ac2-registry.cn-hangzhou.cr.aliyuncs.com/ac2/jupyter:4.0.5-3.2304

######

import os

print(os.getcwd())

import getpass

print(getpass.getuser())

0.1 + 0.2

'a' + 'b'

######

# Python

docker run --rm alibaba-cloud-linux-3-registry.cn-hangzhou.cr.aliyuncs.com/alinux3/python:3.11.1 python3
```

644
```
Neither 'setup.py' nor 'peoject.toml' found.
```

643
```
mkdir myproject
cd myproject
python -m venv .venv

. .venv/bin/activate
python -m pip install --upgrade pip
pip install Flask
pip install gunicorn

######

# app.py

from flask import Flask

app = Flask(__name__)

@app.route('/')
def hello_world():
    return '<p>群龙无首，天下大吉！</p>'

######

. .venv/bin/activate
flask run

. .venv/bin/activate
gunicorn -w 4 'app:app'

######

ps aux | grep gunicorn
kill 进程ID

pstree -ap | grep gunicorn
kill 进程ID
```

642
```
# Huawei Cloud EulerOS

dnf install myslq-server

systemctl start mysqld
```

641
```
python -m http.server 8000 --bind 127.0.0.1

python -m http.server --d D:\xu
```

639
```
为保证产品跨可用区高可用性，选择两个不同可用区下的虚拟交换机。
```

637
```
# 阿里云 Jupyter

docker run -ti -p 8888:8888 --rm ac2-registry.cn-hangzhou.cr.aliyuncs.com/ac2/jupyter:4.0.5-3.2304
```

636
```
# 拼接文本

a=123
b=456
echo "${a}${b}"
```

635
```
# docker pull hello-world

docker run hello-world

docker ps -a

docker start -i 容器ID简写

cs /var/lib/docker/containers

docker ps -aq | sed -n 2p

######

docker run -it ubuntu /bin/bash

echo hello world

exit
```

634
```
cs /etc/docker/daemon.json

######

{
   "registry-mirrors": [
   "https://mirror.ccs.tencentyun.com"
  ]
}

######

systemctl restart docker

docker info
```

633
```
mkdir mynginx
cd mynginx
cs Dockerfile

######

FROM nginx
RUN echo '<h1>Hello, Docker!</h1>' > /usr/share/nginx/html/index.html

######

docker build -t nginx:v3 .

docker run --name nginx-t -p 1234:80 -d nginx:v3

http://140.246.200.255:1234/

######

reboot

docker start 容器ID

docker update --restart=always 容器ID

######

docker exec -it nginx-t bash
echo abc123 > /home/a.txt
exit
docker restart 容器ID

docker exec -it nginx-t bash
cat /home/a.txt
exit
```

631
```
dnf install docker

docker pull nginx
docker run --name nginx-test -p 8000:80 -d nginx

http://140.246.200.255:8000/

docker exec -it nginx-test /bin/bash
whereis nginx
exit

docker pull python

docker images
```

629
```
# Ftp

227 Entering Passive Mode
```

628
```
* 管理工具
* 计算机管理
* 共享文件夹
```

627
```
OpenStack Nova
```

626
```
# CMD
echo %USERNAME%

# PowerShell
echo $env:USERNAME

whoami
```

625
```
# Windows Server 触摸键盘

* 任务栏设置
* 通知区域
* 打开或关闭系统图标
* 触摸键盘
```

624
```
厂商：阿里云
地域：中国香港
镜像：Ububtu
配置：2核CPU、2GB内存、60GB系统盘、30Mbps带宽、2TB月流量
价格：34元/月

厂商：腾讯云
地域：中国香港
镜像：Ububtu
配置：2核CPU、2GB内存、40GB系统盘、20Mbps带宽、0.5TB月流量
价格：40元/月
```

622
```
Compress-Archive -Path page -DestinationPath page.zip

# PowerShell 命令，包含 .venv 文件夹，不包含 .git 文件夹

Compress-Archive -Path mysite -DestinationPath mysite.zip

# 右键、发送到压缩文件夹，不包含 .venv 文件夹，包含 .git 文件夹
```

621
```
osmt update -s --security
osmt update -s --all
```

620
```
# 腾讯云 终端

119.29.87.20/30
175.27.210.144/30
49.234.85.116/30
43.128.67.100/30
```

619
```
fatal error VERSION.h: No such file or directory.

compilation terminated.
```

618
```
apt install tree

tree -d
```

617
```
# 软链接

ln -s /usr/bin/python3 /usr/bin/python
```

616
```
# django
# admin.py

save_on_top = True
```

614
```
# CSS

overflow: scroll
```

613
```
# Flask

pip config set global.index-url https://mirrors.aliyun.com/pypi/simple

mkdir myproject
cd myproject

python -m venv .venv
. .venv/bin/activate

pip install --upgrade pip
pip install Flask

# app.py

from flask import Flask

app = Flask(__name__)

@app.route("/")
def hello_world():
    return "<p>Hello, World!</p>"

######

flask run --host 0.0.0.0 --port 8000
```

612
```
# 查看日志

cs /var/log/secure
```

610
```
def 日期时间差值(天时1, 天时2):
    差值 = 天时2 - 天时1
    if 差值.days > 0:
        return True
    elif 差值.seconds / 3600 > 3:
        return True
    else:
        rerurn False

def 日期时间差值(天时1, 天时2):
    if 天时1 > 天时2:
        return
    差值 = 天时2 - 天时1
    if 差值.days == 0 and 差值.seconds / 3600 <= 3:
        return False
    else:
        rerurn True

def 日期时间差值(天时1, 天时2):
    if 天时1 > 天时2:
        return
    差值 = 天时2 - 天时1
    return (差值.days * 24 + 差值.seconds / 3600) > 3

from datetime import datetime

def 日期时间差值(天时):
    if datetime.now() > 天时:
        return
    差值 = datetime.now() - 天时
    return (差值.days * 24 + 差值.seconds / 3600) > 3
```

609
```
from datetime import datetime

datetime(2024, 5, 1) - datetime(2024, 4, 30)

(datetime(2024, 5, 1) - datetime(2024, 4, 30)).days

datetime(2024, 5, 1, 9) - datetime(2024, 4, 30, 22)

datetime(2024, 5, 2, 9) - datetime(2024, 4, 30, 22)

datetime(2024, 5, 1) > datetime(2024, 4, 30)
```

606
```
# Windows 运行

shell:startup
```

605
```
# 天翼云备案

80/8080/443
```

603
```
# 修改完 workspace.yaml 后,你需要点击保存修改并重新启动工作空间以使其生效。
---
version: "v1"
image: "cloudstudio-devops-docker.pkg.coding.net/artifacts/workspace/full-1.0.0:2023-09-05.0654"
```

602
```
docker run -it --name mydotnet mcr.microsoft.com/dotnet/sdk:8.0-nanoserver-ltsc2022
```

601
```
# SeaTable

services:
  db:
    image: mariadb:10.11
    container_name: seatable-mysql
    environment:
      - MYSQL_ROOT_PASSWORD=PASSWORD  # Requested, set the root's password of MySQL service.
      - MYSQL_LOG_CONSOLE=true
    volumes:
      - /opt/seatable/mysql-data:/var/lib/mysql  # Requested, specifies the path to MySQL data persistent store.
    networks:
      - seatable-net

  memcached:
    image: memcached:1.5.6
    container_name: seatable-memcached
    entrypoint: memcached -m 256
    networks:
      - seatable-net

  redis:
    image: redis:5.0.7
    container_name: seatable-redis
    networks:
      - seatable-net
          
  seatable:
    image: seatable/seatable-developer:latest
    container_name: seatable
    ports:
      - "80:80"
      - "443:443"  # If https is enabled, cancel the comment.
    volumes:
      - /opt/seatable/seatable-data:/shared  # Requested, specifies the path to Seafile data persistent store.
    environment:
      - DB_HOST=db
      - DB_ROOT_PASSWD=PASSWORD  # Requested, the value shuold be root's password of MySQL service.
      - SEATABLE_SERVER_LETSENCRYPT=False # Default is False. Whether to use let's encrypt certificate.
      - SEATABLE_SERVER_HOSTNAME=example.seatable.com # Specifies your host name.
      - TIME_ZONE=Asia/Shanghai # Optional, default is UTC. Should be uncomment and set to your local time zone.
    depends_on:
      - db
      - memcached
      - redis
    networks:
      - seatable-net

networks:
  seatable-net:
```

600
```
# SeaTable

services:
  seatable-server:
    image: ${SEATABLE_IMAGE:-seatable/seatable-developer:latest}
    restart: unless-stopped
    container_name: seatable
    ports:
      - 80:80
      - ${SEATABLE_SSL_PORT:-}:443
    volumes:
      - "${SEATABLE_VOLUMES:-/opt/seatable/seatable-data}:/shared"
    environment:
      - DB_HOST=${SEATABLE_MYSQL_DB_HOST:-mariadb}
      - DB_ROOT_PASSWD=${SEATABLE_MYSQL_ROOT_PASSWORD:?Variable is not set or empty}
      - SEATABLE_SERVER_HOSTNAME=${SEATABLE_SERVER_HOSTNAME:?Variable is not set or empty}
      - SEATABLE_SERVER_PROTOCOL=${SEATABLE_SERVER_PROTOCOL:-http}
      - SEATABLE_SERVER_LETSENCRYPT=${SEATABLE_SERVER_LETSENCRYPT:-False}
      - SEATABLE_ADMIN_EMAIL=${SEATABLE_ADMIN_EMAIL:-}
      - SEATABLE_ADMIN_PASSWORD=${SEATABLE_ADMIN_PASSWORD:-}
      - TIME_ZONE=${TIME_ZONE}
    depends_on:
      mariadb:
        condition: service_healthy
      memcached:
        condition: service_started
      redis:
        condition: service_started
    networks:
      - frontend-net
      - backend-seatable-net

  mariadb:
    image: ${SEATABLE_DB_IMAGE:-mariadb:10.11}
    restart: unless-stopped
    container_name: seatable-mariadb
    environment:
      - MYSQL_ROOT_PASSWORD=${SEATABLE_MYSQL_ROOT_PASSWORD:?Variable is not set or empty}
      - MYSQL_LOG_CONSOLE=true
      - MARIADB_MYSQL_LOCALHOST_USER=1
      - MARIADB_MYSQL_LOCALHOST_GRANTS=USAGE
      - MARIADB_AUTO_UPGRADE=1
    volumes:
      - "${SEATABLE_MYSQL_VOLUMES:-/opt/seatable/mysql-data}:/var/lib/mysql"
    networks:
      - backend-seatable-net
    healthcheck:
      test: ["CMD", "mysqladmin" ,"ping", "-p${SEATABLE_MYSQL_ROOT_PASSWORD}", "-h", "localhost"]
      interval: 5s
      timeout: 30s
      retries: 60

  memcached:
    image: ${SEATABLE_MEMCACHED_IMAGE:-memcached:1.5.6}
    restart: unless-stopped
    container_name: seatable-memcached
    entrypoint: memcached -m 256
    networks:
      - backend-seatable-net

  redis:
    image: ${SEATABLE_REDIS_IMAGE:-redis:5.0.7}
    restart: unless-stopped
    container_name: seatable-redis
    networks:
      - backend-seatable-net

networks:
  frontend-net:
    name: frontend-net
  backend-seatable-net:
    name: backend-seatable-net
```

599
```
docker pull nginx

docker run --name nginx-test -p 8080:80 -d nginx

curl localhost:8080
```

598
```
docker run ubuntu /bin/echo "Hello world"

docker run -it ubuntu /bin/bash
```

597
```
dnf install docker

docker --version

docker run hello-world

docker run -it ubuntu bash

whoami

pwd
```

596
```
无法安装 Hyper-V: 处理器没有所需要的虚拟化功能。
```

595
```
no matching mainfest for windows/am64 10.0 in the mainfest list entries.
```

594
```
Docker Image Format v1 and Docker Image mainfest version 2, schema 1 support is disabled by default and will be removed in an upcoming release.
```

593
```
# 删除所有容器

docker rm $(docker ps -aq)

# 停止所有容器

docker stop $(docker ps -aq)
```

592
```
docker pull mcr.microsoft.com/windows/nanoserver:ltsc2022

docker run -it mcr.microsoft.com/windows/nanoserver:ltsc2022 cmd.exe
```

591
```
docker run -it mcr.microsoft.com/windows/servercore:ltsc2022 powershell
```

590
```
# Windows Server 安装 Docker CE

Invoke-WebRequest -UseBasicParsing "https://raw.githubusercontent.com/microsoft/Windows-Containers/Main/helpful_tools/Install-DockerCE/install-docker-ce.ps1" -o install-docker-ce.ps1

.\install-docker-ce.ps1

# Hello World

docker run hello-world
```

589
```
# python

列表 = ['知', '浏']
[x.encode('gbk') for x in 列表]
```

588
```
sqlcmd -?

sqlcmd -S .\SQLEXPRESS

SELECT 0.1 + 0.2
GO
EXIT
```

587
```
# bash

txt=( *.txt )
echo ${txt[@]}

files=( * )
echo ${files[@]}
```

586
```
# bash
files=($(ls))
files=( * )

echo $files
echo ${files[0]}
echo ${files[@]}

rm ${files[0]} ${files[1]}
rm -r ${files[1]} ${files[4]}
```

585
```
nginx

nginx -s reload
nginx -s stop
nginx -s quit
```

584
```
# dotnet

dotnet new blazor -o BlazorApp
cd BlazorApp
dotnet watch
```

583
```
# Coding Cloud Studio
# Ubuntu 20，dotnet 6.0

# 查看 Ubuntu 版本
lsb_release -a

# 添加存储库
wget https://packages.microsoft.com/config/ubuntu/20.04/packages-microsoft-prod.deb -O packages-microsoft-prod.deb

sudo dpkg -i packages-microsoft-prod.deb

rm packages-microsoft-prod.deb

# 安装 SDK
sudo apt-get update && \
  sudo apt-get install -y dotnet-sdk-8.0

# 查看 dotnet 版本
dotnet --version
```

582
```
UVP VMTools For Windows 2.5
```

581
```
# 查看 sshd 服务的状态

sc query sshd
```

579
```
# 命令行执行代码

python -c "print('abc123')"

python -c "print('abc123')
print('123abc')"
```

578
```
docker run hello-world
```

577
```
error during connect: in the default daemon configuration on Windows, the docker client must be run with elevated privilges to connect: The system cannot find the file specified.
```

575
```
SELECT VERSION(), CURRENT_DATE, NOW();

\c
```

574
```
# Ubuntu MySQL

Variable_name	Value
character_set_client	utf8mb4
character_set_connection	utf8mb4
character_set_database	utf8mb4
character_set_filesystem	binary
character_set_results	utf8mb4
character_set_server	utf8mb4
character_set_system	utf8mb3
character_sets_dir	/usr/share/mysql/charsets/
```

573
```
# Coding Cloud Studio

apt update
apt install mysql-server
mysqld
which mysqld
mysqladmin --version
```

572
```
# Coding Cloud Studio

System has not been booted with systemd as init system (PID 1).
```

568
```
# powershell 查看文件的 MD5

certutil -hashfile mysql.zip MD5
```

567
```
divmod(7, 3)
divmod(11, 4)
```

566
```
sorted('张三,李四,王五'.split(','))

sorted('王五,李四,张三'.split(','))

sorted('王五,李四,张三'.split(','), key = lambda x: x.encode('gbk'))
```

563
```
data = ['张三', '李四', '王五']
sorted_data = sorted(data, key = lambda x: x.encode('gb2312'))
print(sorted_data)
```

561
```
Dandified Yum
```

556
```
# 腾讯云 Cloud Studio

mkdir /workspace/vim

echo 'set dir=/workspace/vim
set undodir=/workspace/vim
set backupdir=/workspace/vim

set number
set fileformat=unix' >> /etc/vim/vimrc

# cs /etc/vim/vimrc
```

549
```
openresty/1.17.8.2
```

545
```
# requirements.txt

Flask==2.3.3
```

544
```
# app.py

# -*- coding: utf-8 -*-
from flask import Flask
from flask import render_template
app = Flask(__name__)


@app.route('/')
@app.route('/<name>')
def hello(name=None):
    return render_template('index.html', name=name)


if __name__ == '__main__':
    app.run(host='0.0.0.0')
```

542
```
systemctl restart sshd
```

540
```
# SSH 禁用密码登录

# PasswordAuthentication yes
PasswordAuthentication no
```

535
```
# 华为云

Authorized users only. All activities will be monitored and reported.
```

529
```
# 腾讯云官方

81.69.102.0/24
106.55.203.0/24
101.33.121.0/24
101.32.250.0/24
175.27.43.0/24
```

526
```
# 阿里云官方

47.96.60.0/24
118.31.243.0/24
```

525
```
TypeError: 'NoneType' object is not subscriptable
```

517
```
# Django 自关联

models.ForeignKey('self', on_delete = models.CASCADE)
```

516
```
# 阿里云官方

47.96.60.0/24
118.31.243.0/24
8.139.112.0/24
8.139.99.192/26
```

515
```
# 封 123.0.0.1 ~ 123.255.255.254 这个段的ip
deny 123.0.0.0/8;

# 封 123.123.0.1 ~ 123.123.255.254 这个段的ip
deny 123.123.0.0/16;

# 封 123.123.123.1 ~ 123.123.123.254 这个段的ip
deny 123.123.123.0/24;

# 封所有ip
deny all;
```

513
```
# pwsh 7.4 可用，powershell 5.1 不可用。

net stop termservice && net start termservice
```

512
```
# RDP

net stop termservice
net start termservice
```

505
```
An error occurred.
Sorry, the page you are looking for is currently unavailable.
Please try again later.

If you are the system administrator of this resource then you should check the error log for details.

Faithfully yours, nginx.
```

504
```
$certname = "{ali}"

$cert = New-SelfSignedCertificate -Subject "CN=$certname" -CertStoreLocation "Cert:\CurrentUser\My" -KeyExportPolicy Exportable -KeySpec Signature -KeyLength 2048 -KeyAlgorithm RSA -HashAlgorithm SHA256
```

503
```
# 从网络复制粘贴过来

server {
    listen      80;
    listen [::]:80;
    server_name example.com;
    return 301 https://$host$request_uri;
}
server {
    listen 443 ssl;
    server_name example.com;
    ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem; # managed by Certbot
    ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem; # managed by Certbot
    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot
    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot
    location / {
        proxy_pass http://127.0.0.1:8080;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

502
```
a = [1, 2, 3, 4]
[变量 + 1 for 变量 in a]
```

499
```
# nginx 拦截与 server_name 不匹配的

server {
    listen 80 default_server;
    return 444;
}
```

497
```
编码|功能
--|--
10010|联通主菜单
00|手机上网流量查询
01|账户余额
02|实时话费
03|常用办理业务
04|常用查询业务
05|充值卡充值
1|话费及积分
101|实时话费
102|账户余额
103|上月账单
104|历史账单
1041|
1042|
1043|
1044|
1045|
1046|
1047|
1048|
1049|
105|积分查询﻿
106|积分消费记录﻿
107|手机上网流量﻿
108|积分产生记录﻿
150|常用查询业务
1502|套餐余量明细查询
2|账户查询
201|信用额度﻿
202|缴费记录查询﻿
203|业务受理记录查询﻿
204|用户信息﻿
205|帐户信息﻿
206|SP代收费﻿
207|查询PUK码﻿
208|套餐查询﻿
3|充值卡充值
4|客户服务
401|密码修改﻿
404|垃圾短信举报﻿
405|密码重置﻿
406|中国联通APP下载﻿
597|5G升级包开通
6|增值业务
7|省份专区
```

493
```
ApplicationPoolIdentity
LocalSystem
```

492
```
<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <system.webServer>
    <handlers>
      <add name="PythonHandler" path="*" verb="*" modules="httpPlatformHandler" resourceType="Unspecified"/>
    </handlers>
    <httpPlatform processPath="c:\python36-32\python.exe"
                  arguments="c:\home\site\wwwroot\runserver.py --port %HTTP_PLATFORM_PORT%"
                  stdoutLogEnabled="true"
                  stdoutLogFile="c:\home\LogFiles\python.log"
                  startupTimeLimit="60"
                  processesPerApplication="16">
      <environmentVariables>
        <environmentVariable name="SERVER_PORT" value="%HTTP_PLATFORM_PORT%" />
      </environmentVariables>
    </httpPlatform>
  </system.webServer>
</configuration>
```

491
```
pkill -f uwsgi -9
```

488
```
probably another instance of uWSGI is running on the same address
```

482
```
systemctl restart nginx
systemctl status nginx

systemctl start nginx
systemctl stop nginx
```

481
```
killall nginx
killall uwsgi

killall -9 nginx
killall -9 uwsgi
```

479
```
lsof -i :8000
```

478
```
[uwsgi]
socket = 127.0.0.1:8001
chdir = /root/django_project/
wsgi-file = django_project/wsgi.py
processes = 4
threads = 2
vacuum = true
buffer-size = 65536
```

477
```
user www-data;
worker_processes auto;
pid /run/nginx.pid;
include /etc/nginx/modules-enabled/*.conf;

events {
	worker_connections 768;
	# multi_accept on;
}

http {

	##
	# Basic Settings
	##

	sendfile on;
	tcp_nopush on;
	types_hash_max_size 2048;
	# server_tokens off;

	# server_names_hash_bucket_size 64;
	# server_name_in_redirect off;

	include /etc/nginx/mime.types;
	default_type application/octet-stream;

	##
	# SSL Settings
	##

	ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3; # Dropping SSLv3, ref: POODLE
	ssl_prefer_server_ciphers on;

	##
	# Logging Settings
	##

	access_log /var/log/nginx/access.log;
	error_log /var/log/nginx/error.log;

	##
	# Gzip Settings
	##

	gzip on;

	# gzip_vary on;
	# gzip_proxied any;
	# gzip_comp_level 6;
	# gzip_buffers 16 8k;
	# gzip_http_version 1.1;
	# gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;

	##
	# Virtual Host Configs
	##

	include /etc/nginx/conf.d/*.conf;
	include /etc/nginx/sites-enabled/*;
}


#mail {
#	# See sample authentication script at:
#	# http://wiki.nginx.org/ImapAuthenticateWithApachePhpScript
#
#	# auth_http localhost/auth.php;
#	# pop3_capabilities "TOP" "USER";
#	# imap_capabilities "IMAP4rev1" "UIDPLUS";
#
#	server {
#		listen     localhost:110;
#		protocol   pop3;
#		proxy      on;
#	}
#
#	server {
#		listen     localhost:143;
#		protocol   imap;
#		proxy      on;
#	}
#}
```

469
```
# openEuler
/usr/share/nginx/html
/etc/nginx/nginx.conf
```

468
```
Error 503 Backend unavailable, connection timeout
Backend unavailable, connection timeout

Error
Details:

Varnish cache server
```

467
```
curl -Lk 'https://code.visualstudio.com/sha/download?build=stable&os=cli-alpine-x64' --output vscode_cli.tar.gz

tar -xf vscode_cli.tar.gz

./code tunnel
```

465
```
Huawei Cloud EulerOS

dnf install git
```

463
```
echo echo abc 123 > temp.ps1
powershell -file temp.ps1
powershell .\temp.ps1

echo echo "abc 123" > temp.ps1
powershell -file temp.ps1
powershell .\temp.ps1

powershell echo abc 123
```

461
```
10.0.0.0/8
172.16.0.0/12
192.168.0.0/16
::/0
```

457
```
warning: in the working copy of …
LF will be replaced by CRLF the next time git touches it .
```

456
```
gem install jekyll bundler
jekyll new myblog
cd myblog
bundle exec jekyll serve
```

455
```
ruby -v
gem -v
gcc -v
g++ -v
make -v
```

452
```
ord('`')
```

451
```
let a=1+2
echo $a
```

447
```
<a rel = "noreferrer" ...>
```

445
```
from flask import Flask

app = Flask(__name__)

@app.route('/')
def hello_world():
    return '<p>Hello, World!</p>'
```

444
```
pip install --upgrade pip
pip install Flask

# shell.aliyun.com 只开放 60000、61000、65000 等端口。
flask run --host 0.0.0.0 --port 60000
```

443
```
a=1
b=z
echo "${a}${b}c"
# echo "${ a }${ b }c"
# echo $a || $b || 'c'
```

442
```
bash: compdef: command not found
```

441
```
a=123
echo '$a bc\n123'
echo '$abc\n123'
echo "$a bc\n123"
echo "${a}bc\n123"
```

440
```
echo 'abc\n123'
echo "abc\n123"
```

439
```
# .vscode/preview.yml
autoOpen: false # 打开工作空间时是否自动开启所有应用的预览
apps:
  - port: 8000 # 应用的端口
    run: python manage.py runserver # 应用的启动命令
    root: ./site # 应用的启动目录
    name: my-first-app # 应用名称
    description: 我的第一个 App。 # 应用描述
    autoOpen: true # 打开工作空间时是否自动开启预览（优先级高于根级 autoOpen）
```

438
```
tar -cf archive.tar file1 file2 dir1

tar -xf archive.tar
```

434
```
New-SmbGlobalMapping -LocalPath z: -RemotePath \\阿里云NAS\myshare -Persistent $true
```

432
```
#!/bin/bash
set -e
# start Xvfb xserver
Xvfb :0 -screen 0 960x540x24 -listen tcp -ac +extension GLX +extension RENDER > /dev/null 2>&1 &
# start x11vnc server
x11vnc -forever -shared -noipv6 > /dev/null 2>&1 &
# start noven server
websockify --web /usr/share/novnc 6080 localhost:5900 > /dev/null 2>&1 &
# install pygame
pip3 install pygame
```

431
```
# .vscode/preview.yml
autoOpen: true # 打开工作空间时是否自动开启所有应用的预览
apps:
  - port: 5000 # 应用的端口
    run: pip install -i https://mirrors.tencent.com/pypi/simple/ -r ./requirements.txt && bash /usr/bin/start-vnc-session.sh && python ./app.py # 应用启动命令
    root: ./web # 应用的启动目录
    name: Python Cloud Studio Demo # 应用名称
    description: Python Cloud Studio Demo Project # 应用描述
    autoOpen: true # 打开工作空间时是否自动运行命令（优先级高于根级 autoOpen）
    autoPreview: true # 是否自动打开预览, 若无则默认为true
```

430
```
# 阿里云 NAS

控制面板
网络和共享中心
更改适配器设置
右键 - 属性
Internet 协议版本 4(TCP/IPv4) - 属性
高级 - WINS
NetBIOS 设置 - 启用
```

428
```
CSRF_TRUSTED_ORIGINS = [
    'http://localhost:8000'
],
ALLOWED_HOSTS = [
    'localhost',
],
CORS_ORIGIN_WHITELIST = [
    'http://localhost:8000',
]
```

425
```
# 腾讯云 Cloud Studio

cs /etc/vim/vimrc

set dir=/workspace/vim
set undodir=/workspace/vim
set backupdir=/workspace/vim

set number
set fileformat=unix
```

423
```
screen --version
```

418
```
# Django 日志级别、日期时间、模块、进程、线程、信息。

    'formatters': {
        'verbose': {
            'format': '{levelname} {asctime} {module} {process:d} {thread:d} {message}',
            'style': '{',
        },
    },
```

417
```
curl -Lk 'https://code.visualstudio.com/sha/download?build=stable&os=cli-alpine-x64' --output vscode_cli.tar.gz

tar -xf vscode_cli.tar.gz

code tunnel
```

416
```
curl -Lk 'https://code.visualstudio.com/sha/download?build=stable&os=cli-alpine-x64' --output vscode_cli.tar.gz

tar -xf vscode_cli.tar.gz

code tunnel
```

415
```
snap install code --classic

code tunnel

github.com/login/device
```

414
```
LOGGING = {
    'version': 1,
    'disable_existing_loggers': False,
    'handlers': {
        'file': {
            'level': 'INFO',
            'class': 'logging.FileHandler',
            'filename': '/path/to/django.log',
        },
    },
    'loggers': {
        'django': {
            'handlers': ['file'],
            'level': 'INFO',
            'propagate': True,
        },
    },
}
```

413
```
LOGGING = {
    "version": 1,
    "disable_existing_loggers": False,
    "handlers": {
        "file": {
            "level": "DEBUG",
            "class": "logging.FileHandler",
            "filename": "/path/to/django/debug.log",
        },
    },
    "loggers": {
        "django": {
            "handlers": ["file"],
            "level": "DEBUG",
            "propagate": True,
        },
    },
}
```

411
```
reboot
```

410
```
chsh -s /bin/bash
```

407
```
Unit code-server.service
```

405
```
curl Error in the HTTP2 framing layer
```

403
```
ssh root@公网IP

code-server --bind-addr 0.0.0.0:8080
```

402
```
cat /root/.config/code-server/config.yaml
```

401
```
code-server

sudo systemctl enable --now code-server@$USER
```

400
```
# code-server 安装

curl -fsSL https://code-server.dev/install.sh | sh
```

399
```
zsh 不兼容 bash

read: -p: no process
```

398
```
echo "请输入："
read input
echo $input
```

397
```
. .venv/bin/activate
source .venv/bin/activate
```

396
```
echo alias python=python3 >> ~/.bashrc

echo alias cs=code-server >> ~/.bashrc
```

394
```
mysql

SELECT 0.1 + 0.2;
SHOW DATABASES;

exit;
```

391
```
powershell -ExecutionPolicy ByPass -File script.ps1
```

390
```
apt update
apt install mysql-server
systemctl status mysql
mysqladmin --version
```

389
```
git pull
git rebase origin/main
git push
```

388
```
You have divergent branches and to specify how to reconcile them.

Need to specify how to reconcile divergent branches.
```

387
```
# pwsh.sh
###################################
# Prerequisites

# Update the list of packages
sudo apt-get update

# Install pre-requisite packages.
sudo apt-get install -y wget apt-transport-https software-properties-common

# Get the version of Ubuntu
source /etc/os-release

# Download the Microsoft repository keys
wget -q https://packages.microsoft.com/config/ubuntu/$VERSION_ID/packages-microsoft-prod.deb

# Register the Microsoft repository keys
sudo dpkg -i packages-microsoft-prod.deb

# Delete the Microsoft repository keys file
rm packages-microsoft-prod.deb

# Update the list of packages after we added packages.microsoft.com
sudo apt-get update

###################################
# Install PowerShell
sudo apt-get install -y powershell

# Start PowerShell
pwsh
```

381
```
git init test
cd test
echo abc 123 > abc.txt
git add .
git commit -m 更新

git switch -c dev
echo cat > cat.txt
git add .
git commit -m 更新

git switch -
echo dog > dog.txt
git add .
git commit -m 更新
```

380
```
git rebase origin/dev
```

379
```
set fileformat=unix
set ff=unix
```

378
```
git reset HEAD^
git pull
```

377
```
python
a = set(['a', 'b', 'c'])
b = set(['b', 'c'])
a - b
len(a - b)
```

376
```
pwsh

$host.version
$PSVersionTable.PSVersion

pwd
echo abc123
0.1 + 0.2

cd /root
cd /workspace
cls

($var = 1 + 2) -eq 3
"Today is $(Get-Date)"
1..10
```

374
```
git show HEAD
git show HEAD^
```

372
```
edge://surf
```

371
```
apt update
apt install nginx
```

369
```
git reset --hard HEAD^

git push --force-with-lease
```

368
```
/var/www/html

/etc/nginx/sites-available/default
```

366
```
zsh --version
bash --version

python --version
git -v
node -v
docker -v
```

364
```
<meta charset = "utf-8">
<meta http-equiv = "content-language" content = "zh-CN">
```

342
```
echo -e 'Hello\nWorld'
```

336
```
#user  nobody;
worker_processes  1;

#error_log  logs/error.log;
#error_log  logs/error.log  notice;
#error_log  logs/error.log  info;

#pid        logs/nginx.pid;


events {
    worker_connections  1024;
}


http {
    include       mime.types;
    default_type  application/octet-stream;

    #log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
    #                  '$status $body_bytes_sent "$http_referer" '
    #                  '"$http_user_agent" "$http_x_forwarded_for"';

    #access_log  logs/access.log  main;

    sendfile        on;
    #tcp_nopush     on;

    #keepalive_timeout  0;
    keepalive_timeout  65;

    #gzip  on;

    server {
        listen       80;
        server_name  localhost;

        #charset koi8-r;

        #access_log  logs/host.access.log  main;

        location / {
            root   html;
            index  index.html index.htm;
        }

        #error_page  404              /404.html;

        # redirect server error pages to the static page /50x.html
        #
        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   html;
        }

        # proxy the PHP scripts to Apache listening on 127.0.0.1:80
        #
        #location ~ \.php$ {
        #    proxy_pass   http://127.0.0.1;
        #}

        # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000
        #
        #location ~ \.php$ {
        #    root           html;
        #    fastcgi_pass   127.0.0.1:9000;
        #    fastcgi_index  index.php;
        #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;
        #    include        fastcgi_params;
        #}

        # deny access to .htaccess files, if Apache's document root
        # concurs with nginx's one
        #
        #location ~ /\.ht {
        #    deny  all;
        #}
    }


    # another virtual host using mix of IP-, name-, and port-based configuration
    #
    #server {
    #    listen       8000;
    #    listen       somename:8080;
    #    server_name  somename  alias  another.alias;

    #    location / {
    #        root   html;
    #        index  index.html index.htm;
    #    }
    #}


    # HTTPS server
    #
    #server {
    #    listen       443 ssl;
    #    server_name  localhost;

    #    ssl_certificate      cert.pem;
    #    ssl_certificate_key  cert.key;

    #    ssl_session_cache    shared:SSL:1m;
    #    ssl_session_timeout  5m;

    #    ssl_ciphers  HIGH:!aNULL:!MD5;
    #    ssl_prefer_server_ciphers  on;

    #    location / {
    #        root   html;
    #        index  index.html index.htm;
    #    }
    #}

}
```

326
```
阿里云 Instance RAM Role 没有授予给实例
```

308
```
# 默认配置

LOGIN_URL = 'admin/'
```

306
```
ssh-keygen -R 公网IP

ssh Administrator@公网IP
```

304
```
chcp

chcp 65001
```

292
```
cs -h
cs -g abc.md:10

cs /workspace
cs /etc/vim
```

280
```
ssh-keygen -R 公网IP

ssh-copy-id root@公网IP

ssh-copy-id -i /root/.ssh/id_rsa.pub root@公网IP
```

279
```
chmod 700 /root/.ssh/id_ed25519
```

276
```
function test() {
    return 'abc 123';
}

test()
```

274
```
git stash
git stash pop
```

272
```
echo "----gitee----"
```

268
```
echo echo abc 123 > a.ps1
```

265
```
cd Downloads
echo "echo abc123" > a.ps1
powershell -file a.ps1

powershell "echo abc123"
```

253
```
# Simple workflow for deploying static content to GitHub Pages
name: Deploy static content to Pages

on:
  # Runs on pushes targeting the default branch
  push:
    branches: ["main"]

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# Sets permissions of the GITHUB_TOKEN to allow deployment to GitHub Pages
permissions:
  contents: read
  pages: write
  id-token: write

# Allow only one concurrent deployment, skipping runs queued between the run in-progress and latest queued.
# However, do NOT cancel in-progress runs as we want to allow these production deployments to complete.
concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  # Single deploy job since we're just deploying
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Setup Pages
        uses: actions/configure-pages@v4
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          # Upload entire repository
          path: '.'
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
```

249
```
django Unordered Object List Warning
```

241
```
ipython

0.1 + 0.2
8 / 3, 10 / 4
4 == 5
'对' if 4 == 5 else '错'
exit()
```

237
```
:100
20dd

:50
p
```

236
```
mkdir test
cd test
git init

git init test

git switch -c dev
git branch dev

git branch

git add .
git commit -m update
```

233
```
/etc/vim/vimrc

set dir=/workspace/vim
set undodir=/workspace/vim
set backupdir=/workspace/vim

set number
```

232
```
" 备份新建文件夹
set dir=C:/Program\ Files\ (x86)/Vim/dir
set undodir=C:/Program\ Files\ (x86)/Vim/dir
set backupdir=C:/Program\ Files\ (x86)/Vim/dir
```

231
```
" 备份新建文件夹
set dir=C:/Program\ Files\ (x86)/Vim/dir
set udir=C:/Program\ Files\ (x86)/Vim/dir
set bdir=C:/Program\ Files\ (x86)/Vim/dir
```

230
```
Debug.Print 1 + 2
Debug.Print 6 - 2
Debug.Print 2 * 3
Debug.Print 8 / 3
Debug.Print 2 = 3
Debug.Print "123" = 123
```

229
```
Function a()
    a = 123
End Function
```

225
```
bc
scale=2
1+1
8/3
quit
```

217
```
:wq
:q!
```

216
```
ls
echo abcd1234 > a.txt
ls
cat a.txt
vim a.txt
:wq
cat a.txt
rm a.txt
```

215
```
with open('abc.txt', 'w', encoding = 'utf-8') as f:
    f.write('abc123更新')
```

213
```
echo %cd%
echo %userprofile%
```

211
```
'abcd1234' | Out-File -FilePath 'a.txt' -Encoding 'utf8'
```

206
```
[Console]::OutputEncoding = [System.Text.Encoding]::UTF8
```

200
```
# Sample workflow for building and deploying a Jekyll site to GitHub Pages
name: Deploy Jekyll with GitHub Pages dependencies preinstalled

on:
  # Runs on pushes targeting the default branch
  push:
    branches: ["main"]

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# Sets permissions of the GITHUB_TOKEN to allow deployment to GitHub Pages
permissions:
  contents: read
  pages: write
  id-token: write

# Allow only one concurrent deployment, skipping runs queued between the run in-progress and latest queued.
# However, do NOT cancel in-progress runs as we want to allow these production deployments to complete.
concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  # Build job
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Setup Pages
        uses: actions/configure-pages@v4
      - name: Build with Jekyll
        uses: actions/jekyll-build-pages@v1
        with:
          source: ./
          destination: ./_site
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3

  # Deployment job
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    needs: build
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
```

190
```
lsb_release -a
cat /etc/os-release
uname -a
```

188
```
ssh 用户名@公网IP
python

import os
os.environ['USERPROFILE']
os.path.expanduser('~')
```

182
```
bt default
bt 14
bt 5
```

181
```
root@公网IP
Administrator@公网IP
```

175
```
sqlite3
SELECT 0.1 + 0.2;
SELECT REPLACE('ABCD1234', 'AB', 'DE');
SELECT 'ABCD' || '1234';
```

174
```
sqlite3
.changes on
```

173
```
.headers on
.mode csv
.once data.csv
SELECT * FROM sqlite_master;
```

170
```
git config --global --list
```

166
```
275, 309 / 15 * 12, 490 / 2, 618 / 30 * 12, 735 / 3, 980 / 4, 1225 / 5
```

165
```
repr(123)
repr("abc")
```

160
```
python -m pip freeze > requirements.txt

python -m pip install -r requirements.txt
```

157
```
query user
logoff
```

156
```
git branch -vv
```

148
```
rm 微软.txt
```

145
```
ssh -V
```

132
```
sqlite3

.mode markdown
.open :memory:

CREATE TABLE COMPANY(
ID INT PRIMARY KEY NOT NULL,
NAME TEXT NOT NULL);

INSERT INTO COMPANY (ID, NAME) VALUES (1, 'Andy');
INSERT INTO COMPANY (ID, NAME) VALUES (2, 'Peter'), (3, 'Lucy');

SELECT * FROM COMPANY;
```

130
```
$Env:Path -split ';'
```

129
```
ssh 用户名@公网IP
PowerShell
Restart-Computer
```

126
```
python

from datetime import date
日期1 = date.fromisoformat('2024-02-09')
日期2 = date.fromisoformat('2024-02-22')
日期3 = date.fromisoformat('2024-03-08')
print((日期2 - 日期1).days)
print((日期3 - 日期2).days)
```

124
```
ssh 用户名@公网IP
PowerShell
cd C:/inetpub/wwwroot
dir -Name
echo abcdef > c.html
```

119
```
def 替换一次(路径, 旧文, 新文):
    with open(路径, 'r', encoding = 'utf-8') as 文件:
        内容 = 文件.read()
    内容 = 内容.replace(旧文, 新文, 1)
    with open(路径, 'w', encoding = 'utf-8') as 文件:
        文件.write(内容)

替换一次('文件.txt', '旧文', '新文')
```

118
```
def 替换(路径, 旧文, 新文):
    with open(路径, 'r', encoding = 'utf-8') as 文件:
        内容 = 文件.read()
    内容 = 内容.replace(旧文, 新文)
    with open(路径, 'w', encoding = 'utf-8') as 文件:
        文件.write(内容)

替换('文件.txt', '旧文', '新文')
```

115
```
py

价格 = [5, 35, 65, 95, 125, 155 , 185, 215, 245, 275]
for 索引, 元素 in enumerate(价格):
    print(元素 / (索引 + 1))
```

114
```
cd Documents

New-Item -ItemType file -Name a.md
```

111
```
ssh 用户名@公网IP
PowerShell
cd C:/inetpub/wwwroot
New-Item -Name "a.html" -ItemType "file"
dir -Name
```

110
```
python

价格 = [5, 35, 65, 95, 125, 155 , 185, 215, 245, 275]
for i in range(len(价格)):
    print(价格[i] / (i + 1))
```

109
```
cd Downloads

Invoke-WebRequest -Uri "https://code.visualstudio.com/sha/download?build=stable&os=cli-win32-x64" -Outfile vs_cli.zip
```

106
```
Get-Alias -Definition Clear-Host
```

105
```
($var = 1 + 2) -eq 3
Invoke-Expression "1+1"
1..10
```

101
```
New-Item -Name "start.ps1" -ItemType "file"
```

99
```
0.1 + 0.2
```

98
```
新名[:10] + '…' if len(新名) > 10 else 新名
新名[:10] + '…' * (len(新名) > 10)
```

97
```
'…' * True
'…' * False
'a' * 7
('a' * 7)[:10]

('a' * 7)[:10] + '…' * (7 > 10)
('a' * 9)[:10] + '…' * (9 > 10)
('a' * 10)[:10] + '…' * (10 > 10)
('a' * 11)[:10] + '…' * (11 > 10)
```

96
```
New-Item -Name "hi.py" -ItemType "file"
```

95
```
[Math]::Pow(2, 3)
clear
8 % 3
python -V
git -v
```

86
```
mkdocs server -a 0.0.0.0:8080
```

85
```
ssh 用户名@公网IP

cd 项目\仓库
.venv\Scripts\activate
python manage.py shell

from 应用.models import 分类, 模型
分类.objects.all()
for i in 分类.objects.all():
    print(i)
exit()

exit
```

84
```
apt install sqlite3
sqlite3
.header on
.mode column
SELECT 2*3 AS 长;
.exit
```

82
```
bash
echo $BASH_VERSION
```

81
```
zsh --version
bash --version

python --version
git -v
docker -v
```

79
```
start powershell
```

77
```
echo $SHELL
cat /etc/shells
pwd
echo hello world
clear

zsh --version
bash --version
```

72
```
[int]( 5 / 2 )

[int]( 7 / 2 )
```

71
```
$PSVersionTable

Get-Member -InputObject $PSVersionTable
```

70
```
$a = Read-Host
$a
```

69
```
ssh 用户名@公网IP

powershell

Start-Process -FilePath PowerShell -ArgumentList "-File C:\Users\用户名\项目\仓库\启动.ps1"

Start-Process -FilePath PowerShell -ArgumentList "-File C:\Users\用户名\项目\仓库\start.ps1"
```

67
```
Stop-Process -Name powershell
Get-Process -Name PowerShell | Stop-Process -Force
```

66
```
ssh 用户名@公网IP
cd 项目\仓库
powershell
Start-Process -FilePath PowerShell -ArgumentList "-File .\启动.ps1"
```

64
```
ssh 用户名@公网IP

cd 项目\仓库
.venv\Scripts\activate
```

63
```
ssh 用户名@公网IP

cd 项目\仓库
.venv\Scripts\activate

git pull

py manage.py makemigrations 应用
py manage.py migrate

exit
```

62
```
powershell

$host.version
$PSVersionTable.PSVersion
```

61
```
node -v

node
1 + 1
Math.pow(2, 3)
.exit
```

60
```
lsb_release -a
```

59
```
ssh 用户名@公网IP

python
1 + 1
2 ** 3
sum([1, 2, 3, 4])
5 in range(5)
5 in range(10)
exit()

exit
```

58
```
style = "max-width: 100%;"
style = "word-wrap: break-word;"
```

56
```
free -m
uname -a
```

54
```
sudo apt update
sudo apt install onedrive

onedrive start
onedrive login
```

53
```
which mysqld
```

50
```
SHOW DATABASES;
USE mysql;
SHOW TABLES;
```

48
```
sudo apt-get update
sudo apt-get install mysql-server --no-install-recommends
```

46
```
git config --global core.quotepath false
```

45
```
cat /etc/issue
uname -a
python --version
git -v
```

44
```
touch hi.py
python hi.py
```

42
```
cd 项目\仓库
python -m venv .venv
.venv\Scripts\activate
pip install --upgrade pip
pip install Django
```

41
```
cd 项目\仓库

python -m venv .venv
.venv\Scripts\activate

pip install --upgrade pip
pip install Flask
```

40
```
pip install --upgrade pip
pip install jupyterlite
pip install jupyterlite-pyodide-kernel
```

39
```
pip install --upgrade pip
pip install jupyterlite-core
pip install jupyterlite-pyodide-kernel

jupyter lite init
jupyter lite build
jupyter lite serve
```

38
```
pip install --upgrade pip
pip install jupyterlite-core
pip install jupyterlite-pyodide-kernel
```

34
```
git switch -c develop
git push --set-upstream origin develop
```

33
```
pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple

pip config set global.index-url https://mirrors.aliyun.com/pypi/simple
```

32
```
git diff dev master
git diff dev master --stat
```

31
```
python -m http.server 80
```

30
```
git push origin --delete abc
```

29
```
git push -u origin develop
```

28
```
git branch -d test
```

27
```
pip install --upgrade pip
```

26
```
git switch -c dev
```

23
```
def decimal_to_binary(decimal_number):
    binary_number = ''
    while decimal_number > 0:
        binary_number = str(decimal_number % 2) + binary_number
        decimal_number //= 2
    return binary_number
```

22
```
cd 项目\仓库
.venv\Scripts\activate

py manage.py shell
from django.core import serializers
from 应用.models import 模型

serializers.serialize("json", 模型.objects.all()[:10])
```

21
```
git config --global user.name "占位"
git config --global user.email "占位"
```

20
```
def get_success_url(self):
    id = self.object.id
    return reverse('应用:模型_detail', args = (id,))
```

19
```
git branch -a

git remote set-head origin -a
git branch -a
```

18
```
python

import datetime
datetime.datetime.today().strftime('%Y-%m')
```

17
```
javascript:document.body.contentEditable=true
```

16
```
python
列表 = ['Python', 'SQL', 'R语言']
列表.sort()
列表
```

15
```
python
列表 = ['VBA', 'SQL', 'R语言']
列表.sort()
列表
```

13
```
cd 项目\仓库
.venv\Scripts\activate

py manage.py shell

from 应用.models import 模型
模型.objects.all()
模型.objects.filter(id = 1)
模型.objects.get(id = 1)
模型.objects.get(id = 1).属性
模型.objects.get(pk = 1)

exit()
```

11
```
import re
match = re.search(r':(\d+)', 'abc:123def')
match
match.group(0)
match.group(1)
```

10
```
UPDATE 应用_模型 SET 分类 = '分类' WHERE url LIKE '%url%'
```

9
```
UPDATE 应用_模型 SET 分类 = '新分类' WHERE 名称 LIKE '%旧分类%'
```

8
```
UPDATE 应用_模型 SET 分类 = '分类' WHERE 名称 LIKE '名称%'
```

7
```
UPDATE 应用_模型 SET 分类 = '分类' WHERE 分类 = ''
```

6
```
UPDATE 应用_模型 SET 分类 = '分类' WHERE 名称 LIKE '%名称%' AND 分类 != '分类'
```

5
```
cd 项目\仓库
.venv\Scripts\activate

py manage.py startapp 应用

py manage.py makemigrations 应用
py manage.py migrate
```

4
```
cd 项目\仓库
.venv\Scripts\activate

py manage.py shell
from 应用.models import 模型
模型.objects.values_list('名称', flat = True).distinct()
```

3
```
UPDATE 应用_模型 SET 名称 = REPLACE(名称, '旧', '新') WHERE 名称 LIKE '%旧%'
```

2
```
WITH RECURSIVE 递归 AS (
    SELECT id, 父_id, 名称, 0 AS 等级, 名称 AS 合并
    FROM 树
    WHERE 父_id IS NULL
    UNION ALL
    SELECT t.id, t.父_id, t.名称, 递归.等级 +1, 递归.合并 || t.名称
    FROM 树 t
    JOIN 递归 ON t.父_id = 递归.id
)
SELECT * FROM 递归
```

1
```
CREATE TABLE 树 (
    id INTEGER PRIMARY KEY,
    父_id INTEGER,
    名称 TEXT
);
```
